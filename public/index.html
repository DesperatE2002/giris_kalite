<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Temsa Kalite Takip Sistemi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    
    /* Loading spinner */
    .spinner {
      border: 3px solid #f3f3f3;
      border-top: 3px solid #3498db;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Mobile friendly table */
    @media (max-width: 768px) {
      .mobile-card {
        display: block;
      }
      .mobile-card td {
        display: block;
        text-align: right;
        padding: 8px;
      }
      .mobile-card td:before {
        content: attr(data-label);
        float: left;
        font-weight: bold;
      }
    }
  </style>
</head>
<body class="bg-gray-50">
  
  <!-- Loading Screen -->
  <div id="loadingScreen" class="fixed inset-0 bg-white z-50 flex items-center justify-center hidden">
    <div class="text-center">
      <div class="spinner mx-auto mb-4"></div>
      <p class="text-gray-600">Yükleniyor...</p>
    </div>
  </div>

  <!-- Login Screen -->
  <div id="loginScreen" class="min-h-screen flex items-center justify-center px-4">
    <div class="max-w-md w-full space-y-8">
      <div class="text-center">
        <div class="mx-auto h-20 w-20 bg-blue-600 rounded-full flex items-center justify-center mb-4">
          <i class="fas fa-clipboard-check text-white text-3xl"></i>
        </div>
        <h2 class="text-3xl font-bold text-gray-900">Temsa Kalite</h2>
        <p class="mt-2 text-gray-600">Sisteme giriş yapın</p>
      </div>
      <form id="loginForm" class="mt-8 space-y-6 bg-white p-8 rounded-lg shadow-lg">
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Kullanıcı Adı</label>
            <input type="text" id="username" required 
              class="appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Kullanıcı adınızı girin">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Şifre</label>
            <input type="password" id="password" required
              class="appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Şifrenizi girin">
          </div>
        </div>
        <div id="loginError" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"></div>
        <button type="submit" 
          class="w-full flex justify-center py-3 px-4 border border-transparent text-lg font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition">
          <i class="fas fa-sign-in-alt mr-2 mt-1"></i> Giriş Yap
        </button>
        <div class="text-center mt-4">
          <button type="button" id="showRegisterBtn" class="text-blue-600 hover:text-blue-700 font-medium">
            Hesabınız yok mu? Kayıt olun
          </button>
        </div>
      </form>

      <!-- Register Form -->
      <form id="registerForm" class="mt-8 space-y-6 bg-white p-8 rounded-lg shadow-lg hidden">
        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Ad Soyad</label>
            <input type="text" id="registerFullName" required 
              class="appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Ad ve soyadınızı girin">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Kullanıcı Adı</label>
            <input type="text" id="registerUsername" required 
              class="appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Kullanıcı adınızı girin">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Şifre</label>
            <input type="password" id="registerPassword" required minlength="6"
              class="appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="En az 6 karakter">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Şifre Tekrar</label>
            <input type="password" id="registerPasswordConfirm" required minlength="6"
              class="appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              placeholder="Şifrenizi tekrar girin">
          </div>
        </div>
        <div id="registerError" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"></div>
        <div id="registerSuccess" class="hidden bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded"></div>
        <button type="submit" 
          class="w-full flex justify-center py-3 px-4 border border-transparent text-lg font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition">
          <i class="fas fa-user-plus mr-2 mt-1"></i> Kayıt Ol
        </button>
        <div class="text-center mt-4">
          <button type="button" id="showLoginBtn" class="text-blue-600 hover:text-blue-700 font-medium">
            Zaten hesabınız var mı? Giriş yapın
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Main App -->
  <div id="mainApp" class="hidden">
    
    <!-- Top Navigation -->
    <nav class="bg-white shadow-lg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex items-center">
            <div class="flex-shrink-0 flex items-center">
              <i class="fas fa-clipboard-check text-blue-600 text-2xl mr-3"></i>
              <span class="font-bold text-xl text-gray-900">Temsa Kalite</span>
            </div>
          </div>
          <div class="flex items-center space-x-4">
            <span id="userInfo" class="text-gray-700 hidden sm:block"></span>
            <button id="logoutBtn" class="text-gray-600 hover:text-gray-900">
              <i class="fas fa-sign-out-alt mr-1"></i> Çıkış
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="bg-white border-b sm:hidden">
      <div class="flex overflow-x-auto">
        <button data-page="dashboard" class="nav-btn flex-1 py-3 px-4 text-sm font-medium border-b-2 border-transparent">
          <i class="fas fa-home"></i> Ana Sayfa
        </button>
        <button data-page="goods-receipt" class="nav-btn flex-1 py-3 px-4 text-sm font-medium border-b-2 border-transparent">
          <i class="fas fa-box"></i> Giriş
        </button>
        <button data-page="quality" class="nav-btn flex-1 py-3 px-4 text-sm font-medium border-b-2 border-transparent" style="display:none;">
          <i class="fas fa-check-circle"></i> Kalite
        </button>
        <button data-page="admin" class="nav-btn flex-1 py-3 px-4 text-sm font-medium border-b-2 border-transparent" style="display:none;">
          <i class="fas fa-cog"></i> Admin
        </button>
      </div>
    </div>

    <!-- Desktop Sidebar + Content -->
    <div class="flex min-h-screen">
      <!-- Sidebar (Desktop) -->
      <aside class="hidden sm:block w-64 bg-white shadow-lg">
        <nav class="mt-5 px-2 space-y-1">
          <button data-page="dashboard" class="nav-btn w-full group flex items-center px-4 py-3 text-base font-medium rounded-md">
            <i class="fas fa-home mr-3"></i> Ana Sayfa
          </button>
          <button data-page="goods-receipt" class="nav-btn w-full group flex items-center px-4 py-3 text-base font-medium rounded-md">
            <i class="fas fa-box mr-3"></i> Malzeme Girişi
          </button>
          <button data-page="quality" class="nav-btn w-full group flex items-center px-4 py-3 text-base font-medium rounded-md" style="display:none;">
            <i class="fas fa-check-circle mr-3"></i> Kalite Kontrol
          </button>
          <button data-page="admin" class="nav-btn w-full group flex items-center px-4 py-3 text-base font-medium rounded-md" style="display:none;">
            <i class="fas fa-cog mr-3"></i> Yönetim
          </button>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 p-4 sm:p-6 lg:p-8 bg-gray-50">
        <div id="content"></div>
      </main>
    </div>

  </div>

  <!-- Scripts -->
  <script src="/js/api.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/dashboard.js"></script>
  <script src="/js/goods-receipt.js"></script>
  <script src="/js/quality.js"></script>
  <script src="/js/admin.js"></script>
  <script src="/js/app.js"></script>

</body>
</html>
